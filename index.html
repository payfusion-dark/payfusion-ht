<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>PAY FUSION - Excellence Numérique</title>
    
    <!-- POLICE INTER PROFESSIONNELLE -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- ICONS EXTERNES (FONTAWESOME) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <style>
        /* =========================================
           PALETTE DE COULEURS NXY ST3PH
           ========================================= */
        :root {
            --gold-gradient: linear-gradient(135deg, #BF953F, #FCF6BA, #B38728, #FBF5B7, #AA771C);
            --gold-solid: #D4AF37;
            --black: #000000;
            --black-soft: #0A0A0A;
            --black-card: #111111;
            --white: #F8F8F8;
            --gray-text: #888888;
            --border: #1A1A1A;
            --font-size-base: 0.875rem; /* 14px STRICT */
        }

        /* =========================================
           RESET ET BASE
           ========================================= */
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body {
            font-family: 'Inter', sans-serif;
            font-size: var(--font-size-base);
            color: var(--white);
            background-color: var(--black);
            line-height: 1.6;
            overflow-x: hidden;
            opacity: 0; /* Masqué pour éviter le flash avant vérification session */
            transition: opacity 0.5s ease;
        }

        /* CHARGEMENT DE SÉCURITÉ */
        #safety-loader {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--black); z-index: 9999;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
        }
        .spinner {
            width: 40px; height: 40px; border: 3px solid rgba(184, 134, 11, 0.1);
            border-top: 3px solid var(--gold-solid); border-radius: 50%;
            animation: rotate 0.8s linear infinite;
        }
        @keyframes rotate { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

        /* =========================================
           HEADER (LOGO CENTRÉ)
           ========================================= */
        header {
            position: fixed; top: 0; width: 100%; height: 75px;
            background: rgba(0, 0, 0, 0.9); backdrop-filter: blur(15px);
            border-bottom: 1px solid var(--border);
            display: flex; justify-content: space-between; align-items: center;
            padding: 0 5%; z-index: 2000;
        }
        .h-left { display: flex; gap: 20px; width: 80px; }
        .h-left i { color: var(--gold-solid); font-size: 1.1rem; cursor: pointer; }
        .h-center { flex: 1; text-align: center; }
        .h-center img { height: 35px; object-fit: contain; }
        .h-right { width: 80px; display: flex; justify-content: flex-end; }
        .burger-trigger { color: var(--gold-solid); font-size: 1.3rem; cursor: pointer; }

        /* DROPDOWN MENU */
        #nav-dropdown {
            position: fixed; top: -100%; left: 0; width: 100%;
            background: rgba(10, 10, 10, 0.98); border-bottom: 1px solid var(--gold-solid);
            padding: 100px 5% 40px; z-index: 1999;
            transition: 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 15px;
        }
        #nav-dropdown.show { top: 0; }
        .drop-item {
            padding: 15px; text-align: center; border: 1px solid var(--border);
            border-radius: 4px; text-decoration: none; color: var(--white);
        }
        .drop-item i { display: block; font-size: 1.3rem; margin-bottom: 10px; color: var(--gold-solid); }
        .drop-item span { font-size: 0.7rem; text-transform: uppercase; font-weight: 700; letter-spacing: 1px; }

        /* =========================================
           HERO SECTION
           ========================================= */
        .hero {
            padding: 180px 5% 100px; text-align: center;
            background: radial-gradient(circle at top, #151515 0%, #000 70%);
        }
        .hero h1 {
            font-size: 2.2rem; font-weight: 900; text-transform: uppercase;
            background: var(--gold-gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            margin-bottom: 25px; line-height: 1.1;
        }
        .hero p { color: var(--gray-text); margin-bottom: 45px; max-width: 600px; margin-left: auto; margin-right: auto; }
        .btn-gold {
            background: var(--gold-gradient); color: var(--black);
            padding: 18px 45px; border-radius: 2px; font-weight: 900;
            text-transform: uppercase; font-size: 0.8rem; letter-spacing: 2px;
            display: inline-block; transition: 0.3s;
        }

        /* =========================================
           SERVICES (ICON ONLY)
           ========================================= */
        .section-title { text-align: center; text-transform: uppercase; letter-spacing: 4px; margin-bottom: 50px; font-weight: 800; color: var(--white); font-size: 1.1rem; }
        .services-grid { padding: 0 5% 100px; display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 30px; }
        .service-card {
            background: var(--black-card); border: 1px solid var(--border);
            padding: 50px 30px; text-align: center; transition: 0.4s;
        }
        .service-card:hover { border-color: var(--gold-solid); transform: translateY(-5px); }
        .service-card i {
            font-size: 2.5rem; margin-bottom: 25px; display: block;
            background: var(--gold-gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }
        .service-card h3 { text-transform: uppercase; letter-spacing: 2px; margin-bottom: 15px; font-size: 1rem; }
        .service-card p { color: var(--gray-text); font-size: 0.85rem; margin-bottom: 25px; font-weight: 300; }
        .service-link { color: var(--gold-solid); font-weight: 800; font-size: 0.75rem; text-transform: uppercase; display: flex; align-items: center; justify-content: center; gap: 10px; }

        /* =========================================
           TESTIMONIALS
           ========================================= */
        .testi-section { background: #050505; padding: 80px 5%; }
        .testi-card { background: var(--black-card); border: 1px solid var(--border); padding: 30px; margin-bottom: 20px; }
        .testi-text { font-style: italic; color: #aaa; margin-bottom: 15px; font-size: 0.9rem; }
        .testi-user { color: var(--gold-solid); font-weight: 700; font-size: 0.75rem; text-transform: uppercase; display: flex; align-items: center; gap: 10px; }

        /* =========================================
           FOOTER
           ========================================= */
        footer { padding: 80px 5% 40px; border-top: 1px solid var(--border); background: var(--black-soft); }
        .f-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 50px; margin-bottom: 60px; }
        .f-col h4 { color: var(--gold-solid); text-transform: uppercase; font-size: 0.8rem; letter-spacing: 2px; margin-bottom: 25px; }
        .f-col p, .f-col a { color: var(--gray-text); text-decoration: none; margin-bottom: 12px; display: block; font-size: 0.85rem; }
        .f-bottom { text-align: center; border-top: 1px solid var(--border); padding-top: 30px; font-size: 0.7rem; color: #333; text-transform: uppercase; letter-spacing: 1px; }

    </style>
</head>
<body>

    <!-- ÉCRAN DE SÉCURITÉ ANTI-BOUCLE -->
    <div id="safety-loader">
        <div class="spinner"></div>
        <p style="margin-top: 20px; font-size: 0.6rem; color: var(--gold-solid); text-transform: uppercase; letter-spacing: 3px;">Authentification PAY FUSION...</p>
    </div>

    <!-- DROPDOWN -->
    <div id="nav-dropdown">
        <a href="index.html" class="drop-item"><i class="fa-solid fa-house"></i><span>Accueil</span></a>
        <a href="services.html" class="drop-item"><i class="fa-solid fa-wallet"></i><span>Finance</span></a>
        <a href="freefire.html" class="drop-item"><i class="fa-solid fa-gamepad"></i><span>Gaming</span></a>
        <a href="netflix.html" class="drop-item"><i class="fa-solid fa-tv"></i><span>Streaming</span></a>
        <a href="support.html" class="drop-item"><i class="fa-solid fa-headset"></i><span>Support</span></a>
    </div>

    <header>
        <div class="h-left">
            <a href="login.html"><i class="fa-solid fa-user-lock"></i></a>
            <a href="register.html"><i class="fa-solid fa-user-plus"></i></a>
        </div>
        <div class="h-center">
            <img src="assets/logos/payfusion-logo.svg" alt="PAYFUSION">
        </div>
        <div class="h-right">
            <div class="burger-trigger" id="menu-btn"><i class="fa-solid fa-bars-staggered"></i></div>
        </div>
    </header>

    <main>
        <section class="hero">
            <h1>Votre destination de confiance pour vos services numériques</h1>
            <p>Pay Fusion est la plateforme professionnelle haïtienne de référence pour vos besoins financiers, gaming et streaming. Rapide, fiable et sécurisé.</p>
            <a href="register.html" class="btn-gold">Créer un compte —</a>
        </section>

        <h2 class="section-title">Nos Univers</h2>
        <div class="services-grid">
            <div class="service-card">
                <i class="fa-solid fa-building-columns"></i>
                <h3>Finances</h3>
                <p>Transferts Wise, PayPal et USDT. Taux fixe : 1 USD = 150 HTG. Traitement manuel garanti.</p>
                <a href="services.html" class="service-link">Accéder aux taux ●</a>
            </div>
            <div class="service-card">
                <i class="fa-solid fa-fire-flame-curved"></i>
                <h3>Gaming</h3>
                <p>Diamants Free Fire instantanés par Player ID. Plus de 21 packs disponibles 24h/24.</p>
                <a href="freefire.html" class="service-link">Boutique Diamants ●</a>
            </div>
            <div class="service-card">
                <i class="fa-solid fa-clapperboard"></i>
                <h3>Streaming</h3>
                <p>Comptes Netflix Premium 4K HDR. Profitez du meilleur du cinéma sans interruption.</p>
                <a href="netflix.html" class="service-link">S'abonner maintenant ●</a>
            </div>
        </div>

        <section class="testi-section">
            <h2 class="section-title">Avis Clients</h2>
            <div class="testi-card">
                <p class="testi-text">"La rapidité de Pay Fusion pour les recharges Free Fire est impressionnante. Taux de 150 très correct."</p>
                <div class="testi-user">✓ Jean-Luc R.</div>
            </div>
            <div class="testi-card">
                <p class="testi-text">"Enfin un site pro pour PayPal en Haïti. Support WhatsApp très réactif pour les preuves MonCash."</p>
                <div class="testi-user">✓ Marie-Sophie T.</div>
            </div>
        </section>
    </main>

    <footer>
        <div class="f-grid">
            <div class="f-col">
                <h4>PAY FUSION</h4>
                <p>Plateforme leader des services numériques en Haïti.</p>
            </div>
            <div class="f-col">
                <h4>Contact</h4>
                <p>WhatsApp : +50939442808</p>
                <p>Email : support.payfusion@gmail.com</p>
            </div>
            <div class="f-col">
                <h4>Légal</h4>
                <a href="#">Conditions d'utilisation</a>
                <a href="#">Confidentialité</a>
            </div>
        </div>
        <div class="f-bottom">
            Propriété de PAY FUSION ● Design & Codage par NxY St3ph ● 2026
        </div>
    </footer>

    <!-- FIREBASE SDK COMPAT -->
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>

    <script>
        // CONFIGURATION RÉELLE NXY ST3PH
        const firebaseConfig = {
            apiKey: "AIzaSyAV3RoOAL4XgGQSGnEU0_Q1q5UcEce4LBg",
            authDomain: "pay-fusion-d0eaf.firebaseapp.com",
            projectId: "pay-fusion-d0eaf",
            storageBucket: "pay-fusion-d0eaf.firebasestorage.app",
            messagingSenderId: "713035702480",
            appId: "1:713035702480:web:d05998b07c529ec2043ec5"
        };
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();

        const loader = document.getElementById('safety-loader');
        const body = document.body;

        // =========================================
        // LOGIQUE DE SÉCURITÉ ANTI-BOUCLE
        // =========================================
        auth.onAuthStateChanged(user => {
            if (user) {
                // Si déjà connecté -> Propulser vers Home (ou Admin)
                console.log("Session active détectée.");
                if(user.email === "bmarcco4412@gmail.com") {
                    window.location.replace("admin.html");
                } else {
                    window.location.replace("home.html");
                }
            } else {
                // Pas de session -> Afficher l'index
                console.log("Aucune session. Affichage index.");
                loader.style.display = "none";
                body.style.opacity = "1";
            }
        });

        // MENU DROPDOWN
        const menuBtn = document.getElementById('menu-btn');
        const dropdown = document.getElementById('nav-dropdown');
        menuBtn.addEventListener('click', () => {
            dropdown.classList.toggle('show');
            menuBtn.innerHTML = dropdown.classList.contains('show') ? 
                '<i class="fa-solid fa-xmark"></i>' : '<i class="fa-solid fa-bars-staggered"></i>';
        });
    </script>
</body>
</html>